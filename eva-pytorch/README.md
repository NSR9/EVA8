This is my modularized code.
